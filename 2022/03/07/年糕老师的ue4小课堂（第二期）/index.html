
<!DOCTYPE html>
<html lang="zh-CN ">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AprilNAVI&#39;s Blog | You are the best || 年糕老师的ue4小课堂（第二期）</title>
    <meta name="author" content="AprilNAVI">
    <meta name="description" content=" ">
    <meta name="keywords" content=" ">
    <link rel="icon" href="/https://i.loli.net/2021/04/11/ntQaX3ly1ohHNGr.jpg">
    <link rel="stylesheet" href="/css/antd.min.css">
    
    <link rel="stylesheet" href="/css/maiden-theme.css">
    
    <script src="/js/vue.js"></script>
    <script src="/js/antd.min.js"></script>
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="AprilNAVI's Blog | You are the best" type="application/atom+xml">
</head>

<body>

    <div id="loading"
        style="height: 100vh; width: 100%; position: fixed;display: flex;z-index: 200; justify-content: space-between;">
        <div id="loadleft" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div id="loadright" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div
            style="position: fixed; height: 100vh; width: 100%;display: flex;justify-content: center;align-items: center;">
            <div id="loadcontent"
                style="width:400px;height:400px;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px#a3ddfb; text-align:center;opacity:1;transition:opacity 0.3s ease-out;">
                <div>
                    <h2>LOADING...</h2>
                    <p>加载过慢请开启缓存(浏览器默认开启)</p>
                    <div>
                        <img src="/dancingkitty.gif" alt="loading">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="layout">
        <transition name="into">
            <div v-show="show_page" style="display: none;">
                <div id="menu_show">
                     
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">AprilNAVI's Blog | You are the best</span>
        </a>
        
        <a href="/">
            <span>
                <a-icon type="home" theme="filled" />
            </span>
            <span>home</span>
        </a>
        
    </div>

    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div :class="'title'" @click="menu_show=!menu_show">
            <span style="margin-right: 10px;">
                <a-icon type="appstore" theme="filled" />
            </span>
            <span>AprilNAVI's Blog | You are the best</span>
        </div>
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="home" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">home</div>
                </div>
            </a>
            
        </div>
        <div class="curtain" v-show="menu_show"></div>
    </div>

</nav>
                </div>

                <div id="main">
                     
<link rel="stylesheet" href="/css/post-body.css">
<div class="article">
    <div>
        <h1>年糕老师的ue4小课堂（第二期） </h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/7
        </span>

        

        
    </div>

    <div class="content" v-pre>
        <p>在ue方面笔者完全是个萌新，糕糕前辈在我进入某大佬群时主动加了我的好友（现在想来感动的能哭出声）</p>
<p>在我学习ue时不吝赐教，为我提供了许多资料，语气也十分的和蔼温柔</p>
<p>每次遇到什么问题发消息几乎都是秒回，解答了我的许多疑惑（我哭死）</p>
<p>这篇博客会做成一个对话的专栏形式，会记录一些前期学习遇到的疑问</p>
<p>不会有固定的大纲，记录的风格是诙谐轻松的（顺利的话会一直写下去？）</p>
<p>最重要的是这些遇到并得到解答的问题我不希望今天获取然后明天就失忆了</p>
<p>这些知识对初学者应该是很有帮助的（确信），所以我很乐意记录这样一个快乐的过程</p>
<span id="more"></span>

<hr>
<p>这次笔者会记录在学校学习的第二周和糕糕前辈发生的有趣的对话</p>
<hr>
<h2 id="第一幕-3-1"><a href="#第一幕-3-1" class="headerlink" title="第一幕 3.1"></a>第一幕 3.1</h2><p>四月：糕糕你之前发我的那个有关assert的文章还在吗，哦对了说起来断言算是c++的机制还是算是ue的机制呢</p>
<p>糕糕：是ue的机制，你也可以自己写，不过就不叫断言了。你知道断言为什么叫断言吗。</p>
<p>四月：会引发一个中断！（确信）</p>
<p>糕糕：没错，断言的意思差不多就类似中断的文字版。</p>
<hr>
<h2 id="第二幕-3-2"><a href="#第二幕-3-2" class="headerlink" title="第二幕 3.2"></a>第二幕 3.2</h2><p>四月：糕糕，元数据metadata是什么</p>
<p>糕糕：元数据是用来描述数据的数据，<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2007/03/metadata.html">https://www.ruanyifeng.com/blog/2007/03/metadata.html</a></p>
<p>四月：这样，那ue的元数据是什么，文件大小时间那些的吗</p>
<p>糕糕：UE的UProperty有Meta标签，不过可以自己加，只能editor识别。或者说这个所谓的描述其实没有固定添加的地方</p>
<p>只是看你的程序对他处不处理。</p>
<p>四月：噢噢正是这样所以UE editor能把这些当成资产来使用，这就是元数据</p>
<hr>
<h2 id="第三幕-3-2"><a href="#第三幕-3-2" class="headerlink" title="第三幕 3.2"></a>第三幕 3.2</h2><p><strong>四月：</strong>自带的FPS模板写了一堆前向声明诶</p>
<p><img src="/images/loading.jpg" data-original="/2022/03/07/%E5%B9%B4%E7%B3%95%E8%80%81%E5%B8%88%E7%9A%84ue4%E5%B0%8F%E8%AF%BE%E5%A0%82%EF%BC%88%E7%AC%AC%E4%BA%8C%E6%9C%9F%EF%BC%89/_4VZ%25%5D%25DHR%5B7%60RTAIZ79GOR.png" alt="img"></p>
<p><strong>糕糕：</strong>C++ 必须写这个，必须能不用#include就不用</p>
<p><strong>四月：</strong>噢噢原来是这样，我之前都是都是#include</p>
<p><strong>糕糕：</strong>#include的话 其中某个头文件改了，链式增加编译数量，而且会有重叠引用的问题</p>
<p><strong>四月：</strong>之前demo就遇到过，就武器类引用了我的角色，角色类也引用我的武器，然后乱糟糟的，可能哪边不小心改错了就过不去编译。</p>
<p><strong>糕糕：</strong>还有这个前置声明，我推荐在头文件里写在要用的地方，而不是写在最上面，方便复制片段代码</p>
<p>还有个事，struct不能前置声明</p>
<p><strong>四月：</strong>所以class和struct的区别又多了一个，那我怎么天天看到它们只有一个public一个private的区别</p>
<p>糕糕：其实是UE里不能这样</p>
<p><strong>四月：</strong>可恶啊</p>
<p><strong>糕糕：</strong>因为UE的struct只能放到栈里构造，而class只能在堆里构造，UE的uclass 创建变量的时候只能用 指针，ustruct只识别非指针</p>
<p>所以ustruct，在头文件里构造这个类的时候就要明确要多少内存，所以就得在这里include进来了。</p>
<p>而class在构造这个类的时候是用的指针，固定大小的，所以可以前置声明。</p>
<p><strong>四月：</strong>呜呜呜糕糕真是好老师</p>
<p><strong>糕糕：</strong>所以可恶的C++，现在我学ts就完全好多了</p>
<hr>
<h2 id="第四幕-3-2"><a href="#第四幕-3-2" class="headerlink" title="第四幕 3.2"></a>第四幕 3.2</h2><p>四月：UgameplayStatic::里面有什么常用的api吗</p>
<p>糕糕：看源码，基本上都是常用Api吧。但实际项目中，最好自己写个类似的库</p>
<p>四月：我自己实现一遍吗</p>
<p>糕糕：嗯嗯，因为他get出来的是UE原来的类型，要cast一下</p>
<p><img src="/images/loading.jpg" data-original="/2022/03/07/%E5%B9%B4%E7%B3%95%E8%80%81%E5%B8%88%E7%9A%84ue4%E5%B0%8F%E8%AF%BE%E5%A0%82%EF%BC%88%E7%AC%AC%E4%BA%8C%E6%9C%9F%EF%BC%89/T39@HAUYOY4%7BNE%7D(QPL)RKU.png" alt="img"></p>
<p>比如最常用的这个，正经项目你肯定会自己写个Gamemode吧，你每次都要cast一下</p>
<p>直接对自己的gamemode写个static get自己的实例算了 反正是单例。</p>
<p>四月：避免cast是为什么呢，性能开销太大了吗</p>
<p>糕糕：嗯，损耗很大。</p>
<p><img src="/images/loading.jpg" data-original="/2022/03/07/%E5%B9%B4%E7%B3%95%E8%80%81%E5%B8%88%E7%9A%84ue4%E5%B0%8F%E8%AF%BE%E5%A0%82%EF%BC%88%E7%AC%AC%E4%BA%8C%E6%9C%9F%EF%BC%89/%E5%8D%95%E4%BE%8B.png" alt="img"></p>
<p>写个单例大概像这样的</p>
<p>四月：单例不是考虑到线程安全会有什么懒汉式还有其他的吗</p>
<p>糕糕：Gamemode的生命周期不用自己管理，所以我们只用存他的指针返回他的指针就是了</p>
<p>四月：所以引擎会帮我们解决对吗</p>
<p>糕糕：嗯嗯对的，这样只有第一次有cast损耗，后面放tick里也没啥问题了</p>
<hr>
<h2 id="小插曲"><a href="#小插曲" class="headerlink" title="小插曲"></a>小插曲</h2><p>四月：我想玩那个车车游戏</p>
<p>糕糕：base.apk</p>
<p>四月：这车真的很难开，为什么你漂移还能炸对手</p>
<p>糕糕：游戏开发者一般是技术最好的吧，其实一般来说是策划，但这移动算法都是我写的</p>
<p>四月：里面的按钮居然都点不了！只有广告是可以点的，老板估计很开心</p>
<p>糕糕：说起来 你想去大厂的话，一定要想办法转正或者毕业就直接去大厂，不然工作几年之后很难的</p>
<p>我这边的tx基本上只招资深的<img src="/images/loading.jpg" data-original="/2022/03/07/%E5%B9%B4%E7%B3%95%E8%80%81%E5%B8%88%E7%9A%84ue4%E5%B0%8F%E8%AF%BE%E5%A0%82%EF%BC%88%E7%AC%AC%E4%BA%8C%E6%9C%9F%EF%BC%89/2FFS%7B6G@M3$ZUWUK%25SWE0H.gif" alt="img">普通的和高级的基本上都是从实习生就在Tx的</p>
<p>四月：我当然知道啦，所以转正我特别重视，毕竟现在版号不发了，是游戏圈的紧要关头，可能没转正成功我就回家了。</p>
<p>我打算死磕tx了，毕业拿转正offer之前都不算高枕无忧。</p>
<hr>
<p>笔者写这些的时候，又听到了一些所谓“小道消息”，说春招的hc被卡了很多，即使自己不需要春招已经上岸</p>
<p>但还是感觉到了不小的压力，也为整个中国游戏行业的未来狠狠的捏了一把汗。</p>
<p>再说下去要emo了，这样可不行，人还是得开开心心的，毕竟我又是月亮又是太阳！</p>
<hr>

    </div>

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <div id="comment">
        <div id="gitalk-container">
        </div>
    </div>
    
</div>
                     
<footer id="footer">
    <div class="footer-wrap">
        <div>
            © 2018 - 2023 AprilNAVI&#39;s Blog | You are the best
            <span class="footer-icon">
                <a-icon type="flag" theme="filled" /></span>
            @AprilNAVI
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/korilin/hexo-theme-particle">Particle Theme</a></div>
        
    </div>

</footer>

<script src="/js/highlight.min.js"></script>
<script src="/js/particle.js"></script>
                </div>
            </div>
        </transition>
    </div>

    <script>
    new Vue({
        el: "#layout",
        data: {
            show_page: false,
            onload_menu: false,
            menu_show: false,
            card_top: 100
        },
        created: function () {
            var that = this
            window.onload = function () {
                that.show_page = true
                document.getElementById("loadcontent").style.opacity = 0
                setTimeout(function () {
                    document.getElementById("loadleft").style.width = 0
                    document.getElementById("loadright").style.width = 0
                }, 300)
                setTimeout(function () {
                    document.getElementById("loading").style = "display:none"
                }, 600)
            }
        },
        mounted: function () {
            var that = this
            window.addEventListener('scroll', function (e) {
                that.menu_show = false
            })
        },
        methods: {
            home_click: function () {
                window.scrollTo({
                    top: window.innerHeight - 80,
                    behavior: "smooth",
                });
            }
        }
    })
</script>

<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: '',
        clientSecret: '',
        repo: 'hexo-theme-particle',      // The repository of store comments,
        owner: 'korilin',
        admin: ['korilin'],
        language: 'en',
        id: location.pathname,      // Ensure uniqueness and length less than 50
        distractionFreeMode: true  // Facebook-like distraction free mode
    })
    gitalk.render('gitalk-container')
</script>

<script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},t.src!==i&&(n.src=i)}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body>

</html>